<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>SVG Animation using Enter/Update/Exit Concept</title>
    <script src="https://d3js.org/d3.v6.min.js"></script>
  </head>
  <body>
    <div id="svg-container"></div>

    <script>
      const svg = d3
        .select("#svg-container")
        .append("svg")
        .attr("width", 800)
        .attr("height", 600);

      const data = [
        { x: 50, y: 50, size: 50, color: "red" },
        { x: 100, y: 100, size: 30, color: "blue" },
        { x: 200, y: 200, size: 40, color: "green" },
        { x: 300, y: 300, size: 20, color: "yellow" }
      ];

      const circles = svg
        .selectAll("circle")
        .data(data)
        .enter()
        .append("circle")
        .attr("cx", d => d.x)
        .attr("cy", d => d.y)
        .attr("r", d => d.size)
        .style("fill", d => d.color);

      // Update function
      const update = (newData) => {
        circles
          .data(newData)
          .transition()
          .duration(1000)
          .attr("cx", d => d.x)
          .attr("cy", d => d.y)
          .attr("r", d => d.size)
          .style("fill", d => d.color);

        circles
          .exit()
          .transition()
          .duration(1000)
          .style("fill", "white")
          .remove();
      };

      // Update the data after 5 seconds
      setTimeout(() => {
        update([
          { x: 150, y: 150, size: 50, color: "purple" },
          { x: 250, y: 250, size: 30, color: "orange" }
        ]);
      }, 5000);
    </script>
  </body>
</html>
